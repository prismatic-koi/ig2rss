# Instagram Credentials (Required)
INSTAGRAM_USERNAME=your_instagram_username
INSTAGRAM_PASSWORD=your_instagram_password

# Two-Factor Authentication (Optional)
# If you have 2FA enabled on your Instagram account, provide the TOTP seed
# This is NOT your 2FA backup codes - it's the secret key used to generate codes
# To get this: 1) Set up 2FA in Instagram, 2) Use the secret key shown during setup
# or use cl.totp_generate_seed() and cl.totp_enable() via instagrapi
INSTAGRAM_2FA_SEED=

# HTTP Server Configuration
BASE_URL=http://localhost:8080
HOST=0.0.0.0
PORT=8080

#######################
# Polling Configuration
#######################
# How often to check Instagram for new posts (in seconds)
# Minimum: 60 seconds (1 minute)
# Default: 1200 seconds (20 minutes)
POLL_INTERVAL=1200

# Legacy: How many posts to fetch from Instagram on each poll (timeline mode only)
# Range: 1-50, Default: 20
FETCH_COUNT=20

#######################
# Smart Polling (Phase 1)
#######################
# Enable adaptive polling based on account activity
SMART_POLLING_ENABLED=true

# Fetch strategy: 'profile' (smart, per-account) or 'timeline' (legacy, feed-based)
FETCH_STRATEGY=profile

# Account Activity Thresholds (days since last post)
# These determine priority levels for polling frequency
PRIORITY_HIGH_DAYS=7        # ≤7 days → high priority
PRIORITY_NORMAL_DAYS=30     # ≤30 days → normal priority
PRIORITY_LOW_DAYS=180       # ≤180 days → low priority
                            # >180 days → dormant

# Polling Frequencies (how often to check each priority)
# 1 = every cycle (20 min), 3 = every 3rd cycle (60 min), etc.
POLL_HIGH_EVERY_N_CYCLES=1      # Every cycle (20 min)
POLL_NORMAL_EVERY_N_CYCLES=1    # Every cycle (20 min)
POLL_LOW_EVERY_N_CYCLES=3       # Every 3rd cycle (60 min)
POLL_DORMANT_EVERY_N_CYCLES=12  # Every 12th cycle (4 hours)

# Content Fetching
# Max posts to fetch when new content is detected
POSTS_PER_USER=20

# Testing limit: Max accounts to process per sync (0 = unlimited)
# Set to a small number (e.g., 5-10) for initial testing, then set to 0 for production
MAX_ACCOUNTS_TO_FETCH=0

# Following List Cache
# How often to refresh the list of accounts you follow (in hours)
FOLLOWING_CACHE_HOURS=24

# Priority Overrides (comma-separated usernames)
# Force specific accounts to HIGH priority (checked every cycle)
# Example: PRIORITY_OVERRIDE_ACCOUNTS=user1,user2,user3
PRIORITY_OVERRIDE_ACCOUNTS=

#######################
# Story Polling (Phase 2)
#######################
# Enable Instagram Stories fetching
STORY_POLLING_ENABLED=true

# Story Activity Thresholds (days since last story)
# These determine priority levels for story polling frequency
STORY_ACTIVE_DAYS=3        # ≤3 days → high priority
STORY_INACTIVE_DAYS=14     # ≤14 days → normal priority
STORY_DORMANT_DAYS=90      # ≤90 days → low priority
                           # >90 days → dormant

# Mute Status Refresh
# How often to refresh story mute statuses for all accounts (in hours)
STORY_MUTE_REFRESH_HOURS=24

# RSS Feed Configuration
# Maximum number of posts to include in RSS feed
RSS_FEED_LIMIT=50

# Only include posts from the last N days
RSS_FEED_DAYS=30

# Storage Configuration
# For local development, use relative paths (./data/...)
# For Docker, these will be overridden to use /data/ (persisted via volume)
DATABASE_PATH=./data/ig2rss.db
MEDIA_CACHE_PATH=./data/media
SESSION_FILE=./data/instagram_session.json

# Logging
# Options: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
